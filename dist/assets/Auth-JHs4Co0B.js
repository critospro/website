var x=(t,d,a)=>new Promise((u,n)=>{var p=s=>{try{o(a.next(s))}catch(l){n(l)}},r=s=>{try{o(a.throw(s))}catch(l){n(l)}},o=s=>s.done?u(s.value):Promise.resolve(s.value).then(p,r);o((a=a.apply(t,d)).next())});import{j as e}from"./ui-BaHh_PDK.js";import{r as m}from"./vendor-DV1f2hfo.js";import{B as f,s as g}from"./client-C2yhLZEv.js";import{L as j,I as w}from"./label-Bor1O0BV.js";import{C as v,a as y,b as C,c as S,d as b}from"./card-HLq6nJpV.js";import{d as h}from"./index-bsRtcvq8.js";import{u as N}from"./router-CYBj0wdM.js";import{L as I}from"./loader-circle-Bb3UvPZ0.js";import"./utils-6gDWDllp.js";const R=()=>{const[t,d]=m.useState(!1),[a,u]=m.useState(""),[n,p]=m.useState(""),[r,o]=m.useState(!1),s=N(),l=c=>x(void 0,null,function*(){c.preventDefault(),d(!0);try{if(r){const{error:i}=yield g.auth.signUp({email:a,password:n,options:{emailRedirectTo:`${window.location.origin}/`}});if(i)throw i;h.success("Check your email for the confirmation link!")}else{const{error:i}=yield g.auth.signInWithPassword({email:a,password:n});if(i)throw i;h.success("Signed in successfully!"),s("/")}}catch(i){h.error(i.message)}finally{d(!1)}});return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-8",children:e.jsxs(v,{className:"w-full max-w-md",children:[e.jsxs(y,{className:"text-center",children:[e.jsx(C,{children:r?"Create Account":"Sign In"}),e.jsx(S,{children:r?"Create an account to upload videos":"Sign in to access the admin panel"})]}),e.jsxs(b,{children:[e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",value:a,onChange:c=>u(c.target.value),placeholder:"Enter your email",required:!0,disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"password",children:"Password"}),e.jsx(w,{id:"password",type:"password",value:n,onChange:c=>p(c.target.value),placeholder:"Enter your password",required:!0,disabled:t,minLength:6})]}),e.jsxs(f,{type:"submit",className:"w-full",disabled:t,children:[t&&e.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Sign Up":"Sign In"]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(f,{variant:"link",onClick:()=>o(!r),disabled:t,children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})};export{R as default};
